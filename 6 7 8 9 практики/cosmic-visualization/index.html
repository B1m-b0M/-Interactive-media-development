<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Å–º—ñ—á–Ω—ñ –ø–æ–¥—ñ—ó - –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo">üåå CosmicViz</div>
            <div class="nav-links">
                <a href="#" class="nav-link active" data-screen="home">–ì–æ–ª–æ–≤–Ω–∞</a>
                <a href="#" class="nav-link" data-screen="events">–ü–æ–¥—ñ—ó</a>
                <a href="#" class="nav-link" data-screen="visualization">–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è</a>
                <a href="#" class="nav-link" data-screen="data">–î–∞–Ω—ñ NASA</a>
                <a href="#" class="nav-link" data-screen="about">–ü—Ä–æ –ø—Ä–æ—î–∫—Ç</a>
                <button id="openRegisterModal" class="control-btn" style="margin-left:18px;font-size:1em;">üë§ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
            </div>
        </div>
    </nav>

    <!-- Home Screen -->
    <div id="home" class="screen active">
        <div class="hero">
            <h1>–î–æ—Å–ª—ñ–¥–∂—É–π—Ç–µ –í—Å–µ—Å–≤—ñ—Ç</h1>
            <p>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ—Å–º—ñ—á–Ω–∏—Ö –ø–æ–¥—ñ–π –Ω–∞ –æ—Å–Ω–æ–≤—ñ –¥–∞–Ω–∏—Ö NASA</p>
            <button class="cta-button" onclick="showScreen('events')">–ü–æ—á–∞—Ç–∏ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è</button>
        </div>

        <div class="features">
            <div class="feature-card">
                <span class="feature-icon">üåü</span>
                <h3>–î–∞–Ω—ñ NASA</h3>
                <p>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç–æ—á–Ω—ñ –Ω–∞—É–∫–æ–≤—ñ –¥–∞–Ω—ñ –¥–ª—è —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–æ–≥–æ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∫–æ—Å–º—ñ—á–Ω–∏—Ö —è–≤–∏—â</p>
            </div>
            <div class="feature-card">
                <span class="feature-icon">üéÆ</span>
                <h3>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å</h3>
                <p>–ó–º—ñ–Ω—é–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, –º–∞—Å—à—Ç–∞–± —Ç–∞ –∫—É—Ç –æ–≥–ª—è–¥—É –¥–ª—è –ø–æ–≤–Ω–æ–≥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ–¥—ñ–π</p>
            </div>
            <div class="feature-card">
                <span class="feature-icon">üî¨</span>
                <h3>–û—Å–≤—ñ—Ç–∞</h3>
                <p>–Ü–¥–µ–∞–ª—å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è –∞—Å—Ç—Ä–æ—Ñ—ñ–∑–∏–∫–∏ —Ç–∞ –∫–æ—Å–º–æ–ª–æ–≥—ñ—ó</p>
            </div>
        </div>
    </div>

    <!-- Events Selection Screen -->
    <div id="events" class="screen">
        <div class="hero">
            <h1>–û–±–µ—Ä—ñ—Ç—å –∫–æ—Å–º—ñ—á–Ω—É –ø–æ–¥—ñ—é</h1>
            <p>–î–æ—Å–ª—ñ–¥–∂—É–π—Ç–µ –Ω–∞–π–∑–∞—Ö–æ–ø–ª—é—é—á—ñ —è–≤–∏—â–∞ —É –í—Å–µ—Å–≤—ñ—Ç—ñ</p>
        </div>

        <div class="events-grid">
            <div class="event-card" onclick="selectEvent('supernova')">
                <div class="event-image">üí•</div>
                <div class="event-content">
                    <h3 class="event-title">–í–∏–±—É—Ö –Ω–∞–¥–Ω–æ–≤–æ—ó</h3>
                    <p class="event-description">–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–π—Ç–µ –∑–∞ —Ñ—ñ–Ω–∞–ª—å–Ω–æ—é —Å—Ç–∞–¥—ñ—î—é –∂–∏—Ç—Ç—è –º–∞—Å–∏–≤–Ω–æ—ó –∑—ñ—Ä–∫–∏ —Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è–º –Ω–µ–π—Ç—Ä–æ–Ω–Ω–æ—ó –∑—ñ—Ä–∫–∏ –∞–±–æ —á–æ—Ä–Ω–æ—ó –¥—ñ—Ä–∏</p>
                </div>
            </div>

            <div class="event-card" onclick="selectEvent('blackhole')">
                <div class="event-image">üï≥Ô∏è</div>
                <div class="event-content">
                    <h3 class="event-title">–ß–æ—Ä–Ω–∞ –¥—ñ—Ä–∞</h3>
                    <p class="event-description">–í–∏–≤—á–∞–π—Ç–µ –≥—Ä–∞–≤—ñ—Ç–∞—Ü—ñ–π–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ —Ç–∞ –ø–æ–≥–ª–∏–Ω–∞–Ω–Ω—è –º–∞—Ç–µ—Ä—ñ—ó –Ω–∞–π–∑–∞–≥–∞–¥–∫–æ–≤—ñ—à–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏ –í—Å–µ—Å–≤—ñ—Ç—É</p>
                </div>
            </div>

            <div class="event-card" onclick="selectEvent('neutron')">
                <div class="event-image">‚ö°</div>
                <div class="event-content">
                    <h3 class="event-title">–ù–µ–π—Ç—Ä–æ–Ω–Ω–∞ –∑—ñ—Ä–∫–∞</h3>
                    <p class="event-description">–î–æ—Å–ª—ñ–¥–∂—É–π—Ç–µ –Ω–∞–π—â—ñ–ª—å–Ω—ñ—à—ñ –æ–±'—î–∫—Ç–∏ —É –í—Å–µ—Å–≤—ñ—Ç—ñ –∑ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∏–º–∏ –º–∞–≥–Ω—ñ—Ç–Ω–∏–º–∏ –ø–æ–ª—è–º–∏</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Visualization Screen -->
    <div id="visualization" class="screen">
        <div class="viz-container">
            <div class="viz-sidebar">
                <h3 style="margin-bottom: 20px; color: #64b5f6;">–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —Å–∏–º—É–ª—è—Ü—ñ—ó</h3>
                
                <div class="control-group">
                    <label>–ú–∞—Å—à—Ç–∞–± —á–∞—Å—É</label>
                    <input type="range" class="slider" id="timeScale" min="0.1" max="5" value="1" step="0.1">
                    <div class="value-display" id="timeScaleValue">1.0x</div>
                </div>

                <div class="control-group">
                    <label>–ú–∞—Å–∞ –æ–±'—î–∫—Ç–∞</label>
                    <input type="range" class="slider" id="mass" min="1" max="100" value="50">
                    <div class="value-display" id="massValue">50 M‚òâ</div>
                </div>

                <div class="control-group">
                    <label>–í—ñ–¥—Å—Ç–∞–Ω—å —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è</label>
                    <input type="range" class="slider" id="distance" min="1" max="1000" value="100">
                    <div class="value-display" id="distanceValue">100 —Å–≤. —Ä–æ–∫—ñ–≤</div>
                </div>

                <div class="control-group">
                    <label>–Ü–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ—Å—Ç—å –≤–∏–ø—Ä–æ–º—ñ–Ω—é–≤–∞–Ω–Ω—è</label>
                    <input type="range" class="slider" id="intensity" min="10" max="100" value="50">
                    <div class="value-display" id="intensityValue">50%</div>
                </div>

                <div class="control-group">
                    <label>–ì—É—á–Ω—ñ—Å—Ç—å –º—É–∑–∏–∫–∏</label>
                    <input type="range" class="slider" id="musicVolume" min="0" max="1" value="0.3" step="0.1">
                    <div class="value-display" id="musicVolumeValue">30%</div>
                </div>

                <div class="control-group">
                    <button class="control-btn" onclick="toggleMusic()">üîä –£–≤—ñ–º–∫–Ω./–í–∏–º–∫–Ω. –º—É–∑–∏–∫—É</button>
                </div>

                <div class="control-group">
                    <label>–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤–ª–∞—Å–Ω—ñ –∑–≤—É–∫–∏</label>
                    <input type="file" id="soundUpload" accept="audio/*" multiple style="color: white; margin-bottom: 10px;">
                    <button class="control-btn" onclick="loadUserSounds()" style="width: 100%;">üìÅ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–≤—É–∫–∏</button>
                </div>

                <div class="control-group">
                    <label>–¢–µ—Å—Ç–æ–≤—ñ –∑–≤—É–∫–∏</label>
                    <div style="display: flex; flex-wrap: wrap; gap: 5px;">
                        <button class="control-btn" onclick="playSound('buttonClick')" style="font-size: 12px; padding: 5px;">Click</button>
                        <button class="control-btn" onclick="playSound('supernova')" style="font-size: 12px; padding: 5px;">üí•</button>
                        <button class="control-btn" onclick="playSound('blackhole')" style="font-size: 12px; padding: 5px;">üï≥Ô∏è</button>
                        <button class="control-btn" onclick="playSound('neutron')" style="font-size: 12px; padding: 5px;">‚ö°</button>
                    </div>
                </div>
            </div>

            <div class="viz-main">
                <div class="simulation-area" style="background: radial-gradient(ellipse at 60% 40%, #232b4d 60%, #0d133b 100%); box-shadow: 0 8px 40px #0008; border-radius: 18px; min-height: 340px; position: relative; overflow: hidden;">
                    <div class="cosmic-object supernova" id="cosmicObject"></div>
                    <!-- –ö–æ–º–µ—Ç–∏: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó -->
                    <div id="cometContainer" style="pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;"></div>
                    <!-- –î–æ–¥–∞—î–º–æ –∑–æ—Ä—ñ —Ç–∞ —Ç—É–º–∞–Ω–Ω–æ—Å—Ç—ñ -->
                    <canvas id="starfield" style="position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none;"></canvas>
                    <div id="nebula" style="position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;pointer-events:none;"></div>
                </div>
                <script>
                // WOW-–µ—Ñ–µ–∫—Ç: –∑–æ—Ä—è–Ω–µ –ø–æ–ª–µ —Ç–∞ —Ç—É–º–∞–Ω–Ω—ñ—Å—Ç—å
                (function() {
                    const canvas = document.getElementById('starfield');
                    if (!canvas) return;
                    function resize() {
                        canvas.width = canvas.offsetWidth;
                        canvas.height = canvas.offsetHeight;
                    }
                    window.addEventListener('resize', resize);
                    resize();
                    const ctx = canvas.getContext('2d');
                    function drawStars() {
                        ctx.clearRect(0,0,canvas.width,canvas.height);
                        for (let i=0; i<90; i++) {
                            const x = Math.random()*canvas.width;
                            const y = Math.random()*canvas.height;
                            const r = Math.random()*1.2+0.3;
                            ctx.beginPath();
                            ctx.arc(x, y, r, 0, 2*Math.PI);
                            ctx.fillStyle = `rgba(255,255,${200+Math.random()*55},${0.5+Math.random()*0.5})`;
                            ctx.shadowColor = '#fff';
                            ctx.shadowBlur = 6;
                            ctx.fill();
                        }
                    }
                    setInterval(drawStars, 1800);
                    drawStars();
                })();
                // WOW-–µ—Ñ–µ–∫—Ç: —Ç—É–º–∞–Ω–Ω—ñ—Å—Ç—å
                (function() {
                    const nebula = document.getElementById('nebula');
                    if (!nebula) return;
                    nebula.innerHTML = '';
                    for (let i=0; i<3; i++) {
                        const n = document.createElement('div');
                        n.className = 'nebula-cloud';
                        n.style.left = (20+Math.random()*60)+'%';
                        n.style.top = (20+Math.random()*60)+'%';
                        n.style.width = (120+Math.random()*120)+'px';
                        n.style.height = (60+Math.random()*80)+'px';
                        n.style.opacity = 0.13+Math.random()*0.12;
                        nebula.appendChild(n);
                    }
                })();
                </script>

                <div class="play-controls">
                    <button class="control-btn" onclick="playSimulation()">‚ñ∂Ô∏è –í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏</button>
                    <button class="control-btn" onclick="pauseSimulation()">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
                    <button class="control-btn" onclick="resetSimulation()">üîÑ –°–∫–∏–Ω—É—Ç–∏</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Data Screen -->
    <div id="data" class="screen">
        <div class="data-dashboard">
            <h1 style="display:flex;align-items:center;gap:10px;font-size:2.2rem;">üõ∞Ô∏è –î–∞–Ω—ñ NASA <span style="font-size:1.3rem;">(–æ–Ω–æ–≤–ª–µ–Ω–æ 2024)</span></h1>
            <p style="font-size:1.1rem;color:#90caf9;margin-bottom:18px;">–ê–∫—Ç—É–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ—Å–º—ñ—á–Ω—ñ –æ–±'—î–∫—Ç–∏ —Ç–∞ —è–≤–∏—â–∞ –∑ –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –¥–∂–µ—Ä–µ–ª NASA —Ç–∞ ESA. <span style="background:#222b;color:#ffd600;padding:2px 8px;border-radius:8px;font-size:0.95em;">–î–∞–Ω—ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è —â–æ–º—ñ—Å—è—Ü—è!</span></p>

            <!-- –ö–æ–Ω—Ç—Ä–æ–ª—ñ –¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è/—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–∫–∞ -->
            <div id="nasaChartControls" style="display:flex;justify-content:flex-end;gap:12px;margin:18px 0 0 0;"></div>

            <div class="data-grid">
                <div class="data-card wow-card" style="background:linear-gradient(120deg,#1976d2 60%,#64b5f6 100%);color:#fff;">
                    <h3 class="data-title" style="display:flex;align-items:center;gap:6px;">üí• –ê–∫—Ç–∏–≤–Ω—ñ –Ω–∞–¥–Ω–æ–≤—ñ</h3>
                    <div class="data-value animated-counter" data-value="247">0</div>
                    <p class="data-description">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏—Ö –Ω–∞–¥–Ω–æ–≤–∏—Ö —É 2024 —Ä–æ—Ü—ñ <span style="font-size:1.2em;">‚ú®</span></p>
                </div>

                <div class="data-card wow-card" style="background:linear-gradient(120deg,#0d133b 60%,#43a047 100%);color:#fff;">
                    <h3 class="data-title" style="display:flex;align-items:center;gap:6px;">üï≥Ô∏è –í—ñ–¥–æ–º—ñ —á–æ—Ä–Ω—ñ –¥—ñ—Ä–∏</h3>
                    <div class="data-value animated-counter" data-value="63">0</div>
                    <p class="data-description">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ —á–æ—Ä–Ω—ñ –¥—ñ—Ä–∏ –∑–æ—Ä—è–Ω–æ—ó –º–∞—Å–∏ <span style="font-size:1.2em;">üõ∞Ô∏è</span></p>
                </div>

                <div class="data-card wow-card" style="background:linear-gradient(120deg,#1e293b 60%,#ffd600 100%);color:#222;">
                    <h3 class="data-title" style="display:flex;align-items:center;gap:6px;">‚ö° –ù–µ–π—Ç—Ä–æ–Ω–Ω—ñ –∑—ñ—Ä–∫–∏</h3>
                    <div class="data-value animated-counter" data-value="3200">0</div>
                    <p class="data-description">–ö–∞—Ç–∞–ª–æ–≥—ñ–∑–æ–≤–∞–Ω—ñ –ø—É–ª—å—Å–∞—Ä–∏ —Ç–∞ –º–∞–≥–Ω–µ—Ç–∞—Ä–∏ <span style="font-size:1.2em;">ü™ê</span></p>
                </div>

                <div class="data-card wow-card" style="background:linear-gradient(120deg,#222b 60%,#64b5f6 100%);color:#fff;">
                    <h3 class="data-title" style="display:flex;align-items:center;gap:6px;">‚è∞ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö</h3>
                    <div class="data-value">12:34</div>
                    <p class="data-description">–û—Å—Ç–∞–Ω–Ω—î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞–Ω–Ω—è –∑ –±–∞–∑–æ—é NASA <span style="font-size:1.2em;">üîÑ</span></p>
                </div>
            </div>

            <!-- –î–∏–Ω–∞–º—ñ—á–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ –¥–ª—è NASA Data (Chart.js) -->
            <canvas id="nasaDataChart" style="max-width: 100%; margin: 32px auto 0 auto; background:rgba(25,118,210,0.08); border-radius:18px; box-shadow:0 4px 24px #0002; display:block;"></canvas>

            <div style="margin-top:24px;">
                <div style="background:rgba(25,118,210,0.12);border-radius:12px;padding:1rem 1.5rem;margin-bottom:10px;">
                    <strong>üîó –î–∂–µ—Ä–µ–ª–∞:</strong> <a href="https://www.nasa.gov/" target="_blank" style="color:#ffd600;">nasa.gov</a>, <a href="https://heasarc.gsfc.nasa.gov/wgacat/" target="_blank" style="color:#ffd600;">WGACAT</a>, <a href="https://www.esa.int/" target="_blank" style="color:#ffd600;">esa.int</a>
                </div>
                <div style="background:rgba(67,160,71,0.10);border-radius:12px;padding:1rem 1.5rem;">
                    <strong>üí° –¶—ñ–∫–∞–≤–æ:</strong> –ù–∞–π–º–∞—Å–∏–≤–Ω—ñ—à–∞ –≤—ñ–¥–æ–º–∞ —á–æ—Ä–Ω–∞ –¥—ñ—Ä–∞ –≤–∞–∂–∏—Ç—å –ø–æ–Ω–∞–¥ 66 –º—ñ–ª—å—è—Ä–¥—ñ–≤ –º–∞—Å –°–æ–Ω—Ü—è! <span style="font-size:1.3em;">ü§Ø</span>
                </div>
            </div>
        </div>
    </div>

    <!-- About Screen -->
    <div id="about" class="screen">
        <div class="about-content" style="max-width:700px;margin:auto;">
            <h2 style="display:flex;align-items:center;gap:10px;font-size:2rem;">üöÄ –ü—Ä–æ –ø—Ä–æ—î–∫—Ç</h2>
            <p style="font-size:1.1rem;color:#90caf9;">"–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ—Å–º—ñ—á–Ω–∏—Ö –ø–æ–¥—ñ–π" ‚Äî –æ—Å–≤—ñ—Ç–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –í—Å–µ—Å–≤—ñ—Ç—É —á–µ—Ä–µ–∑ —Å–∏–º—É–ª—è—Ü—ñ—ó, –≥–µ–π–º—ñ—Ñ—ñ–∫–∞—Ü—ñ—é —Ç–∞ WOW-–µ—Ñ–µ–∫—Ç–∏.</p>

            <div style="margin:18px 0 0 0;">
                <div style="background:linear-gradient(90deg,#1976d2 60%,#64b5f6 100%);color:#fff;border-radius:12px;padding:1rem 1.5rem;margin-bottom:10px;">
                    <strong>üåü –ú–µ—Ç–∞:</strong> –ó—Ä–æ–±–∏—Ç–∏ –∞—Å—Ç—Ä–æ—Ñ—ñ–∑–∏–∫—É —Ü—ñ–∫–∞–≤–æ—é, –¥–æ—Å—Ç—É–ø–Ω–æ—é —Ç–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—é –¥–ª—è –≤—Å—ñ—Ö!
                </div>
                <div style="background:linear-gradient(90deg,#ffd600 60%,#fffde7 100%);color:#222;border-radius:12px;padding:1rem 1.5rem;margin-bottom:10px;">
                    <strong>üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó:</strong> –î–∞–Ω—ñ NASA, —Å—É—á–∞—Å–Ω–∏–π JavaScript, CSS3, WOW-–∞–Ω—ñ–º–∞—Ü—ñ—ó, drag&drop, –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω.
                </div>
                <div style="background:linear-gradient(90deg,#43a047 60%,#b9f6ca 100%);color:#222;border-radius:12px;padding:1rem 1.5rem;margin-bottom:10px;">
                    <strong>üéì –û—Å–≤—ñ—Ç–Ω—è —Ü—ñ–Ω–Ω—ñ—Å—Ç—å:</strong> –ü–æ—è—Å–Ω—é—î–º–æ —Å–∫–ª–∞–¥–Ω–µ –ø—Ä–æ—Å—Ç–æ, –º–æ—Ç–∏–≤—É—î–º–æ –¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏, –Ω–∞–¥–∏—Ö–∞—î–º–æ –Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è.
                </div>
            </div>

            <div style="margin:18px 0 0 0;">
                <strong>üìÖ –¢–∞–π–º–ª–∞–π–Ω —Ä–æ–∑–≤–∏—Ç–∫—É:</strong>
                <ul style="margin:10px 0 0 20px;color:#64b5f6;">
                    <li>2023 ‚Äî —ñ–¥–µ—è —Ç–∞ –ø–µ—Ä—à–∏–π –ø—Ä–æ—Ç–æ—Ç–∏–ø</li>
                    <li>2024 ‚Äî –≥–µ–π–º—ñ—Ñ—ñ–∫–∞—Ü—ñ—è, WOW-–µ—Ñ–µ–∫—Ç–∏, –º–æ–±—ñ–ª—å–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è</li>
                    <li>2025 ‚Äî —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ NASA API, VR/AI-–ø–ª–∞–Ω–∏</li>
                </ul>
            </div>

            <div style="margin:18px 0 0 0;">
                <strong>üì¨ –ö–æ–Ω—Ç–∞–∫—Ç–∏:</strong> <a href="mailto:cosmicviz@space.com" style="color:#ffd600;">cosmicviz@space.com</a>
            </div>

            <div style="margin:18px 0 0 0;">
                <strong>üí° –§–∞–∫—Ç:</strong> <span style="color:#ffd600;">–ö–æ–∂–Ω–∞ —Å–µ–∫—É–Ω–¥–∞ —É –í—Å–µ—Å–≤—ñ—Ç—ñ –≤–∏–±—É—Ö–∞—î –ø–æ–Ω–∞–¥ 30 –∑—ñ—Ä–æ–∫!</span> <span style="font-size:1.3em;">üå†</span>
            </div>
        </div>
    </div>

    <!-- –ì–µ–π–º—ñ—Ñ—ñ–∫–∞—Ü—ñ—è: –ø–∞–Ω–µ–ª—å –ø—Ä–æ–≥—Ä–µ—Å—É, –±–µ–π–¥–∂—ñ, –º—ñ—Å—ñ—ó, –∫–∞—Ä—Ç–∞ -->
    <div id="gamificationPanel" style="position:fixed;top:80px;right:20px;z-index:2000;width:320px;max-width:90vw;touch-action:none;">
        <div id="gamificationPanelInner" style="background:rgba(13,20,69,0.95);border-radius:15px;padding:1rem 1.5rem 1.5rem 1.5rem;box-shadow:0 4px 20px #0003;border:1px solid #64b5f6;cursor:grab;touch-action:none;position:relative;">
            <button id="gamificationPanelToggle" aria-label="–ó–≥–æ—Ä–Ω—É—Ç–∏/—Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –ø–∞–Ω–µ–ª—å" style="position:absolute;top:8px;right:8px;background:none;border:none;color:#64b5f6;font-size:1.3em;cursor:pointer;z-index:10;transition:color 0.2s;">‚ûñ</button>
            <div id="gamificationPanelContent">
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px;">
                    <span style="font-size:1.5rem;">üèÜ</span>
                    <span id="gamificationLevelLabel" style="font-weight:bold;color:#64b5f6;">–ù–æ–≤–∞—á–æ–∫ (0 / 100)</span>
                </div>
                <progress id="gamificationProgressBar" value="0" max="100" style="width:100%;height:18px;"></progress>
                <div style="margin:10px 0 0 0;">
                    <strong>–ë–µ–π–¥–∂—ñ:</strong>
                    <div id="gamificationBadges" style="display:flex;gap:6px;flex-wrap:wrap;margin-top:4px;"></div>
                </div>
                <div style="margin:10px 0 0 0;">
                    <strong>–ú—ñ—Å—ñ—ó:</strong>
                    <div id="gamificationMissions" style="margin-top:4px;"></div>
                </div>
                <div style="margin:10px 0 0 0;">
                    <strong>–ö–∞—Ä—Ç–∞ –º—ñ—Å—ñ–π:</strong>
                    <div id="gamificationMap" style="display:flex;gap:8px;margin-top:4px;"></div>
                </div>
            </div>
        </div>
    </div>
    <script>
    // Drag & drop + minimize for gamification panel (desktop + mobile)
    (function() {
        const panel = document.getElementById('gamificationPanel');
        const inner = document.getElementById('gamificationPanelInner');
        const toggle = document.getElementById('gamificationPanelToggle');
        const content = document.getElementById('gamificationPanelContent');
        let dragging = false;
        let startX, startY, origX, origY;
        function onPointerDown(e) {
            if (e.target === toggle) return;
            dragging = true;
            panel.style.transition = 'none';
            startX = e.type.startsWith('touch') ? e.touches[0].clientX : e.clientX;
            startY = e.type.startsWith('touch') ? e.touches[0].clientY : e.clientY;
            const rect = panel.getBoundingClientRect();
            origX = rect.left;
            origY = rect.top;
            document.addEventListener('pointermove', onPointerMove);
            document.addEventListener('pointerup', onPointerUp);
        }
        function onPointerMove(e) {
            if (!dragging) return;
            let x = e.type.startsWith('touch') ? e.touches[0].clientX : e.clientX;
            let y = e.type.startsWith('touch') ? e.touches[0].clientY : e.clientY;
            let dx = x - startX;
            let dy = y - startY;
            let newLeft = origX + dx;
            let newTop = origY + dy;
            // Clamp to viewport
            newLeft = Math.max(0, Math.min(window.innerWidth - panel.offsetWidth, newLeft));
            newTop = Math.max(0, Math.min(window.innerHeight - panel.offsetHeight, newTop));
            panel.style.left = newLeft + 'px';
            panel.style.top = newTop + 'px';
            panel.style.right = 'auto';
        }
        function onPointerUp() {
            dragging = false;
            document.removeEventListener('pointermove', onPointerMove);
            document.removeEventListener('pointerup', onPointerUp);
        }
        inner.addEventListener('pointerdown', onPointerDown);
        // Touch fallback for iOS
        inner.addEventListener('touchstart', onPointerDown);
        // Minimize/maximize
        let minimized = false;
        toggle.addEventListener('click', function() {
            minimized = !minimized;
            if (minimized) {
                content.style.display = 'none';
                toggle.innerText = '‚ûï';
                inner.style.height = '40px';
                inner.style.minHeight = '40px';
                inner.style.padding = '0.3rem 1.5rem 0.3rem 2.5rem';
            } else {
                content.style.display = '';
                toggle.innerText = '‚ûñ';
                inner.style.height = '';
                inner.style.minHeight = '';
                inner.style.padding = '';
            }
        });
    })();
    </script>

    <!-- –ì–µ–π–º—ñ—Ñ—ñ–∫–∞—Ü—ñ–π–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è -->
    <style>
        .gamification-notification {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%) scale(0.95);
            background: linear-gradient(90deg,#1976d2,#64b5f6);
            color: #fff;
            padding: 1rem 2.5rem;
            border-radius: 30px;
            font-size: 1.2rem;
            font-weight: bold;
            box-shadow: 0 8px 32px #0005;
            opacity: 0;
            z-index: 3000;
            transition: opacity 0.3s, transform 0.3s;
            pointer-events: none;
        }
        .gamification-notification.show {
            opacity: 1;
            transform: translateX(-50%) scale(1);
        }
        #gamificationBadges .badge {
            background: #222b;
            color: #90caf9;
            border-radius: 8px;
            padding: 2px 10px;
            font-size: 0.95em;
            margin: 2px 0;
            border: 1px solid #64b5f6;
            opacity: 0.5;
            transition: opacity 0.3s, background 0.3s;
        }
        #gamificationBadges .badge.earned {
            background: #64b5f6;
            color: #fff;
            opacity: 1;
        }
        #gamificationMissions .mission {
            background: #222b;
            border-radius: 8px;
            padding: 2px 10px;
            font-size: 0.95em;
            margin: 2px 0;
            display: flex;
            justify-content: space-between;
            border: 1px solid #64b5f6;
            opacity: 0.7;
        }
        #gamificationMissions .mission.done {
            background: #43a047;
            color: #fff;
            opacity: 1;
        }
        #gamificationMap .map-marker {
            width: 18px; height: 18px; border-radius: 50%; background: #222b; border:2px solid #64b5f6; display:inline-block; opacity:0.5;
        }
        #gamificationMap .map-marker.done {
            background: #ffd600; border-color: #43a047; opacity:1;
        }
    </style>
    <script src="scripts/chartjs-loader.js"></script>
    <script src="scripts/nasa-chart.js"></script>
    <script src="scripts/gamification.js"></script>
    <script src="scripts/main.js"></script>
    <script>
    // WOW-–µ—Ñ–µ–∫—Ç: –∞–Ω—ñ–º–æ–≤–∞–Ω—ñ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∏ –¥–ª—è data-value
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.animated-counter').forEach(function(el) {
            let target = +el.getAttribute('data-value');
            let val = 0;
            let step = Math.max(1, Math.floor(target/60));
            let interval = setInterval(function() {
                val += step;
                if (val >= target) { val = target; clearInterval(interval); }
                el.textContent = val.toLocaleString();
            }, 18);
        });
    });

    // –ê–Ω—ñ–º–∞—Ü—ñ—è –∫–æ–º–µ—Ç —É –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–æ—Å–º—ñ—á–Ω–∏—Ö –ø–æ–¥—ñ–π
    (function() {
        const area = document.querySelector('.simulation-area');
        const cometContainer = document.getElementById('cometContainer');
        if (!area || !cometContainer) return;
        function randomBetween(a, b) { return a + Math.random() * (b - a); }
        function launchComet() {
            const comet = document.createElement('div');
            comet.className = 'comet';
            // –í–∏–ø–∞–¥–∫–æ–≤–∞ —Ç—Ä–∞—î–∫—Ç–æ—Ä—ñ—è: –∑–≤–µ—Ä—Ö—É/–∑–ª—ñ–≤–∞/—Å–ø—Ä–∞–≤–∞
            const startY = randomBetween(10, area.offsetHeight - 60);
            const startX = Math.random() < 0.5 ? -80 : area.offsetWidth + 80;
            const endX = startX < 0 ? area.offsetWidth + 80 : -80;
            const endY = startY + randomBetween(-60, 60);
            comet.style.top = startY + 'px';
            comet.style.left = startX + 'px';
            comet.style.opacity = 0.85;
            comet.style.cursor = 'pointer';
            comet.title = '–ù–∞—Ç–∏—Å–Ω–∏, —â–æ–± –∑–ª–æ–≤–∏—Ç–∏ –∫–æ–º–µ—Ç—É!';
            comet.addEventListener('click', function(e) {
                e.stopPropagation();
                if (comet.classList.contains('caught')) return;
                comet.classList.add('caught');
                if (window.Gamification) {
                    Gamification.addEvent('comet');
                }
                // –ê–Ω—ñ–º–∞—Ü—ñ—è "–∑–Ω–∏–∫–Ω–µ–Ω–Ω—è"
                comet.style.transition = 'opacity 0.3s, transform 0.3s';
                comet.style.opacity = '0';
                comet.style.transform = 'scale(1.3)';
                setTimeout(()=>comet.remove(), 350);
            });
            cometContainer.appendChild(comet);
            // –ê–Ω—ñ–º–∞—Ü—ñ—è
            comet.animate([
                { transform: `translate(0,0)`, opacity: 0.85 },
                { transform: `translate(${endX - startX}px,${endY - startY}px)`, opacity: 0.1 }
            ], {
                duration: randomBetween(1800, 3200),
                easing: 'cubic-bezier(.7,.1,.9,1)',
                fill: 'forwards'
            });
            setTimeout(() => comet.remove(), 3200);
        }
        // –ó–∞–ø—É—Å–∫–∞—Ç–∏ –∫–æ–º–µ—Ç—É –≤–∏–ø–∞–¥–∫–æ–≤–æ –∫–æ–∂–Ω—ñ 10-25 —Å–µ–∫—É–Ω–¥, —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –≤–∏–¥–Ω–æ visualization
        function maybeLaunchComet() {
            if (document.getElementById('visualization').classList.contains('active')) {
                launchComet();
            }
            setTimeout(maybeLaunchComet, randomBetween(10000, 25000));
        }
        maybeLaunchComet();
    })();

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó -->
    <div id="registerModal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(13,20,69,0.85);z-index:4000;align-items:center;justify-content:center;">
      <form id="registerForm" style="background:#232b4d;padding:2.2rem 2.5rem 2rem 2.5rem;border-radius:18px;box-shadow:0 8px 40px #0008;max-width:340px;width:90vw;display:flex;flex-direction:column;gap:18px;align-items:center;">
        <h2 style="color:#ffd600;margin-bottom:8px;">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h2>
        <input id="regNick" type="text" placeholder="–ù—ñ–∫–Ω–µ–π–º" required minlength="3" maxlength="18" style="width:100%;padding:10px 14px;border-radius:8px;border:1px solid #64b5f6;font-size:1.1em;">
        <input id="regPass" type="password" placeholder="–ü–∞—Ä–æ–ª—å" required minlength="4" maxlength="32" style="width:100%;padding:10px 14px;border-radius:8px;border:1px solid #64b5f6;font-size:1.1em;">
        <button type="submit" class="control-btn" style="width:100%;font-size:1.1em;background:#64b5f6;color:#fff;">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
        <button type="button" id="closeRegisterModal" class="control-btn" style="width:100%;background:none;color:#ffd600;font-size:1em;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        <div id="registerMsg" style="color:#ffd600;font-size:1em;text-align:center;"></div>
      </form>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      const openBtn = document.getElementById('openRegisterModal');
      const closeBtn = document.getElementById('closeRegisterModal');
      const modal = document.getElementById('registerModal');
      const msg = document.getElementById('registerMsg');
      if (openBtn && modal) {
        openBtn.onclick = function() {
          modal.style.display = 'flex';
        };
      }
      if (closeBtn && modal && msg) {
        closeBtn.onclick = function() {
          modal.style.display = 'none';
          msg.textContent = '';
        };
      }
      const form = document.getElementById('registerForm');
      if (form) {
        form.onsubmit = function(e) {
          e.preventDefault();
          const nick = document.getElementById('regNick').value.trim();
          const pass = document.getElementById('regPass').value;
          if (nick.length < 3 || pass.length < 4) {
            msg.textContent = '–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ!';
            return;
          }
          localStorage.setItem('cosmicUser', JSON.stringify({nick, pass}));
          msg.textContent = '–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞!';
          setTimeout(()=>{
            modal.style.display = 'none';
            msg.textContent = '';
          }, 1200);
        };
      }
    });
    </script>
</body>
</html>